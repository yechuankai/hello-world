<?xml version="1.0" encoding="utf-8" ?>  
<project name="deploy" default="deploy" basedir="." >  
    <description>deploy to tomcat</description>  
	<path id="tomcat-deploy-ant.classpath" path="${basedir}/lib/catalina-ant.jar" />  
	<typedef resource="org/apache/catalina/ant/antlib.xml"  
			   classpathref="tomcat-deploy-ant.classpath" />  
    <echo>init tomcat deoploy finished..</echo>  
  
    <!--定义外部属性文件和目录-->  
    <property file="tomcat.properties" />  
	
	<target name="wms-service-undeploy" description="Remove web application">
		<undeploy url="${server.wms-service.host}" username="${server.wms-service.username}" password="${server.wms-service.password}" path="${server.wms-service.path}"/>
	</target>
	<target name="wms-service-deploy" description="deploy web application wms-service" depends="wms-service-undeploy">
		<deploy url="${server.wms-service.host}" username="${server.wms-service.username}" password="${server.wms-service.password}" path="${server.wms-service.path}" war="${server.wms-service.from}"/>
	</target>
	
	<target name="wms-file-undeploy" description="Remove web application">
		<undeploy url="${server.wms-file.host}" username="${server.wms-file.username}" password="${server.wms-file.password}" path="${server.wms-file.path}"/>
	</target>
	<target name="wms-file-deploy" description="deploy web application wms-file" depends="wms-file-undeploy">
		<deploy url="${server.wms-file.host}" username="${server.wms-file.username}" password="${server.wms-file.password}" path="${server.wms-file.path}" war="${server.wms-service.from}"/>
	</target>
	
	<target name="wms-report-undeploy" description="Remove web application">
		<undeploy url="${server.wms-report.host}" username="${server.wms-report.username}" password="${server.wms-report.password}" path="${server.wms-report.path}"/>
	</target>
	<target name="wms-report-deploy" description="deploy web application wms-report" depends="wms-report-undeploy">
		<deploy url="${server.wms-report.host}" username="${server.wms-report.username}" password="${server.wms-report.password}" path="${server.wms-report.path}" war="${server.wms-service.from}"/>
	</target>
	
	<target name="wms-config-undeploy" description="Remove web application">
		<undeploy url="${server.wms-config.host}" username="${server.wms-config.username}" password="${server.wms-config.password}" path="${server.wms-config.path}"/>
	</target>
	<target name="wms-config-deploy" description="deploy web application wms-config" depends="wms-config-undeploy">
		<deploy url="${server.wms-config.host}" username="${server.wms-config.username}" password="${server.wms-config.password}" path="${server.wms-config.path}" war="${server.wms-service.from}"/>
	</target>
	
	<target name="deploy" description="deploy all web application" depends="wms-service-deploy,wms-file-deploy,wms-report-deploy">
		<echo>deploy success.</echo>
	</target>

    
</project> 