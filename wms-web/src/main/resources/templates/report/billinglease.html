<!DOCTYPE html>
<html>
<head>
    <title wms:text="${wms.labe.bilingleaselist}"></title>
    <head th:replace="common/head"/>
</head>
<body class="easyui-layout" style="opacity: 1;">
<div class="icon-loading" style="position: absolute; z-index: 999999;width: 100%; height: 100%;opacity: 1;background-color: white;" >&nbsp;</div>
<div data-options="region:'west',collapsible:true" wms:title="${web.label.search.title}" style="width:200px;">
    <div id="searchDiv" class="easyui-layout" style="height: 100%;">
        <div style="margin-left: 10px;height: 100%;" data-options="region:'center',border:false">
            <form id="searchForm" data-table="#dataTable">
                <div style="margin-bottom:10px">
                    <input name="billingLeaseCode" class="easyui-textbox"
                           wms:data-options="label:'${web.label.billingcode}',labelPosition:'top'">
                </div>
                <div style="margin-bottom:10px">
                    <input name="sourceBillNumber" class="easyui-textbox"
                           wms:data-options="label:'${web.label.inboundnumber}',labelPosition:'top'">
                </div>
                <div style="margin-bottom:10px">
                    <input name="ownerCode" class="easyui-textbox"
                           wms:data-options="label:'${web.label.owner}',labelPosition:'top'">
                </div>
                <div style="margin-bottom:10px">
                    <input name="skuCode" class="easyui-textbox"
                           wms:data-options="label:'${web.label.sku}',labelPosition:'top'">
                </div>
                <div style="margin-bottom:10px">
                    <input name="billingDateBegin" class="easyui-datebox"
                           wms:data-options="label:'${web.label.billingdatebegin}',labelPosition:'top'"/>
                </div>
                <div style="margin-bottom:10px">
                    <input name="billingDateEnd" class="easyui-datebox"
                           wms:data-options="label:'${web.label.billingdateend}',labelPosition:'top'"/>
                </div>
            </form>
        </div>
        <div style="text-align: center;height:50px;" data-options="region:'south',border:false">
            <a href="#" class="easyui-linkbutton common-search" data-form="#searchForm" style="width:80px;"
               data-options="iconCls:'icon-search'">
                <span wms:text="${web.label.search}">Search</span>
            </a>
            <a href="#" class="easyui-linkbutton common-search-clear" data-form="#searchForm" style="width:80px;"
               data-options="iconCls:'icon-clear'">
                <span wms:text="${web.label.clear}">Clear</span>
            </a>
        </div>
    </div>
</div>
<div data-options="region:'center',border:false">
     <div class="tableToolbar">
		<a href="#" class="easyui-linkbutton" onclick="generator();" >
			<span wms:text="${web.label.generrator}">Generator</span>
		</a>
		<a href="#" class="easyui-linkbutton" onclick="exportExcel('BILLINGLEASE', '#searchForm')" wms:text="${web.label.export}">Export</a>
	</div>
    <div>
        <table id="dataTable" wms:title="${wms.labe.bilingleaselist}" class="easyui-datagrid"
               th:data-delayUrl="@{/services/inner/report/billing/lease/find}">
            <thead data-options="frozen:true">
            	<th field="billingLeaseCode"  wms:text="${web.label.billingcode}" ></th>
            </thead>
            <thead>
            	<tr>
		            <th field="billingDate" width="130" wms:text="${web.label.billdate}" data-options="sortable:true">billingDate</th>
		            <th field="billingMonth" width="100" wms:text="${web.label.billmonth}" data-options="sortable:true" >billingMonth</th>
		            <th field="ownerCode" width="100" wms:text="${web.label.owner}" data-options="sortable:true">ownerCode</th>
		            <th field="sourceBillNumber" width="100" wms:text="${web.label.sourcebillnumber}" data-options="sortable:true">sourceBillNumber</th>
		            <th field="skuCode" width="100" wms:text="${web.label.sku}" data-options="sortable:true" >skuCode</th>
		            <th field="days" width="100" wms:text="${web.label.days}" data-options="sortable:true" >days</th>
		            <th field="packCode" width="100" wms:text="${web.label.pack}" data-options="sortable:true">packCode</th>
		            <th field="uom" width="60" wms:text="${web.label.sku}" data-options="sortable:true" >uom</th>
		            <th field="inboundDate" width="130" wms:text="${web.label.inbounddate}" data-options="sortable:true" >inboundDate</th>
		            <th field="quantityReceived" width="100" wms:text="${web.label.quantity.onhand}" data-options="sortable:true" >quantityReceived</th>
		            <th field="outboundDate" width="130" wms:text="${web.label.outbounddate}" data-options="sortable:true" >outboundDate</th>
		            <th field="quantityShiped" width="100" wms:text="${web.label.uomquantityshiped}" data-options="sortable:true" >quantityShiped</th>
		            <th field="volume" width="100" wms:text="${web.label.volume}" data-options="sortable:true" >volume</th>
		            <th field="weightGross" width="100" wms:text="${web.label.weightgross}" data-options="sortable:true" >weightGross</th>
			        <th field="weightNet" width="100" wms:text="${web.label.weightnet}" data-options="sortable:true" >weightNet</th>
				    <th field="weightTare" width="100" wms:text="${web.label.weighttare}" data-options="sortable:true" >weightTare</th>
		            <th field="createBy" width="80" wms:text="${web.label.createby}" >createBy</th>
		            <th field="createTime" width="150" wms:text="${web.label.createtime}" data-options="sortable:true" >createTime</th>
            	</tr>
            </thead>
    </div>
</div>
</body>
<script th:replace="common/js"/>
<script type="text/javascript" th:inline="text">
function generator(){
	confirmMsg('Generator All Billing?', function(r){
		if (!r){
			return;
		}
		var data = getBaseData();
		loading();
		$.post({
			url: getServiceUrl() + '/services/inner/report/billing/lease/create',
			data:data,
			success: function(data){
				data = returnData(data);
				closeLoading();
				if (data.code == '0') {
					showError(data.msg);
					return;
				}
				$('.common-search').trigger('click');
			}
		});
	});
}
</script>
</html>