<!DOCTYPE html>
<html>
<head>
    <title wms:text="${wms.labe.loadlist}"></title>
    <head th:replace="common/head"/>
</head>
<body class="easyui-layout" style="opacity: 1;">
<div class="icon-loading" style="position: absolute; z-index: 999999;width: 100%; height: 100%;opacity: 1;background-color: white;" >&nbsp;</div>
<div data-options="region:'west',collapsible:true" wms:title="${web.label.search.title}" style="width:200px;">
    <div id="searchDiv" class="easyui-layout" style="height: 100%;">
        <div style="margin-left: 10px;height: 100%;" data-options="region:'center',border:false">
            <form id="searchForm" data-table="#dataTable">
                <input id="taskType" name="taskType" type="hidden" value="LOAD">
                <div style="margin-bottom:10px">
                    <input name="sourceBillNumber" class="easyui-textbox"
                           wms:data-options="label:'${web.label.outboundnumber}',labelPosition:'top'">
                </div>
                <div style="margin-bottom:10px">
                    <input class="easyui-combobox" name="status" wms:data-options="
						data: codelkups['TASKSTATUS'],
						valueField: 'code',
						textField: 'descr',
						label: '${web.label.status}',
						labelPosition: 'top'
						" />
                </div>
                <div style="margin-bottom:10px">
                    <input name="taskDetailNumber" class="easyui-textbox"
                           wms:data-options="label:'${web.label.taskdetailnumber}',labelPosition:'top'">
                </div>
                <div style="margin-bottom:10px">
                    <input name="ownerCode" class="easyui-textbox"
                           wms:data-options="label:'${web.label.owner}',labelPosition:'top'">
                </div>
                <div style="margin-bottom:10px">
                    <input name="suserName" class="easyui-textbox"
                           wms:data-options="label:'${web.label.username}',labelPosition:'top'">
                </div>
                <div style="margin-bottom:10px">
                    <input name="releaseTimeBegin" class="easyui-datebox"
                           wms:data-options="label:'${web.label.releasetimebegin}',labelPosition:'top'"/>
                </div>
                <div style="margin-bottom:10px">
                    <input name="releaseTimeEnd" class="easyui-datebox"
                           wms:data-options="label:'${web.label.releasetimeend}',labelPosition:'top'"/>
                </div>
                <div style="margin-bottom:10px">
                    <input name="completeTimeBegin" class="easyui-datebox"
                           wms:data-options="label:'${web.label.completetimebegin}',labelPosition:'top'"/>
                </div>
                <div style="margin-bottom:10px">
                    <input name="completeTimeEnd" class="easyui-datebox"
                           wms:data-options="label:'${web.label.completetimeend}',labelPosition:'top'"/>
                </div>
                <div style="margin-bottom:10px">
                    <input name="startTimeBegin" class="easyui-datebox"
                           wms:data-options="label:'${web.label.starttimebegin}',labelPosition:'top'"/>
                </div>
                <div style="margin-bottom:10px">
                    <input name="startTimeEnd" class="easyui-datebox"
                           wms:data-options="label:'${web.label.starttimeend}',labelPosition:'top'"/>
                </div>
                <div style="margin-bottom:10px">
                    <input name="endTimeBegin" class="easyui-datebox"
                           wms:data-options="label:'${web.label.endtimebegin}',labelPosition:'top'"/>
                </div>
                <div style="margin-bottom:10px">
                    <input name="endTimeEnd" class="easyui-datebox"
                           wms:data-options="label:'${web.label.endtimeend}',labelPosition:'top'"/>
                </div>
            </form>
        </div>
        <div style="text-align: center;height:50px;" data-options="region:'south',border:false">
            <a href="#" class="easyui-linkbutton common-search" data-form="#searchForm" style="width:80px;"
               data-options="iconCls:'icon-search'">
                <span wms:text="${web.label.search}">Search</span>
            </a>
            <a href="#" class="easyui-linkbutton common-search-clear" data-form="#searchForm" style="width:80px;"
               data-options="iconCls:'icon-clear'">
                <span wms:text="${web.label.clear}">Clear</span>
            </a>
        </div>
    </div>
</div>
<div data-options="region:'center',border:false">
     <div class="tableToolbar">
		<a href="#" class="common-rowsave easyui-linkbutton" data-table="#dataTable" th:data-url="@{/services/inner/inventory/task/save}" >
			<span wms:text="${web.label.save}">Save</span>
		</a>
		<a href="#" class="common-other easyui-linkbutton" data-table="#dataTable" th:data-url="@{/services/inner/inventory/task/complate}" >
			<span wms:text="${web.label.complate}">Complate</span>
		</a>
		<a href="#" class="easyui-linkbutton" onclick="exportExcel('LOADTASK', '#searchForm')" wms:text="${web.label.export}">Export</a>
	</div>
    <div>
        <table id="dataTable" wms:title="${wms.labe.loadlist}" class="easyui-datagrid"
               th:data-delayUrl="@{/services/inner/inventory/task/findLoadTask}">
            <thead data-options="frozen:true">
            	<th field="taskDetailId" data-options="frozen:true,checkbox:true"></th>
            </thead>
            <thead>
            	<tr>
		            <th field="taskDetailNumber" width="100" wms:text="${web.label.taskdetailnumber}" data-options="sortable:true">taskdetailNumber</th>
		            <th field="taskType" width="80" wms:text="${web.label.type}" data-options="
									sortable:true,
									formatter:function(value,row){
										return getCodelkupValue('TASKTYPE',value);
									}
								">taskType</th>
		            <th field="sourceBillNumber" width="130" wms:text="${web.label.outboundnumber}" data-options="sortable:true" >sourceBillNumber</th>
		            <th field="status" width="100" wms:text="${web.label.status}" data-options="
									sortable:true,
									formatter:function(value,row){
										return getCodelkupValue('TASKSTATUS',value);
									}
								">status</th>
		            <th field="ownerCode" width="80" wms:text="${web.label.owner}" data-options="sortable:true">ownerCode</th>
		            <th field="carNumber" width="80" wms:text="${web.label.carriercarnumber}" data-options="sortable:true">carNumber</th>
		            <th field="containerNumber" width="80" wms:text="${web.label.outbound.containernumber}" data-options="sortable:true">contianerNumber</th>
		            <th field="platFormCode" width="80" wms:text="${web.label.platform}" data-options="sortable:true">platForm</th>
		            <th field="volume" width="80" wms:text="${web.label.volume}" data-options="sortable:true">volume</th>
		            <th field="weightGross" width="80" wms:text="${web.label.weightgross}" data-options="sortable:true">weightGross</th>
		            <th field="releaseTime" width="150" wms:text="${web.label.releasetime}" data-options="sortable:true" >releaseTime</th>
		            <th field="userName" width="100" wms:text="${web.label.username}" data-options="sortable:true,editor:'text'">userName</th>
		            <th field="userCompany" width="100" wms:text="${web.label.company}" data-options="sortable:true,editor:'text'">Company</th>
		            <th field="reason" width="150" wms:text="${web.label.abnormal}" data-options="sortable:true,editor:'text'">Abnormal</th>
		            <th field="startTime" width="150" wms:text="${web.label.starttime}" data-options="sortable:true,editor:'datetimebox'" >startTime</th>
		            <th field="endTime" width="150" wms:text="${web.label.endtime}" data-options="sortable:true,editor:'datetimebox'" >endTime</th>
		            <th field="completeTime" width="150" wms:text="${web.label.completetime}" data-options="sortable:true,editor:'datetimebox'" >completeTime</th>
		            <th field="createBy" width="80" wms:text="${web.label.createby}" >createBy</th>
		            <th field="createTime" width="150" wms:text="${web.label.createtime}" data-options="sortable:true" >createTime</th>
		            <th field="updateBy" width="80" wms:text="${web.label.updateby}" >updateBy</th>
		            <th field="updateTime" width="150" wms:text="${web.label.updatetime}" data-options="sortable:true">updateTime</th>
            	</tr>
            </thead>
    </div>
</div>
</body>
<script th:replace="common/js"/>
<script type="text/javascript" th:src="@{/js/codelkupList?listName=YESNO,TASKTYPE,SOURCETYPE,TASKSTATUS}"></script>
<script type="text/javascript" th:inline="text">
$(function(){
});
</script>
</html>